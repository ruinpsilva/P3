<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Default-Style" content="Dark">
		
		<!-- CSS -->
		<link rel="stylesheet" href="joint/joint.css" />
		<link rel="stylesheet" href="css/Amalia.css" title="Dark"/>
        <link rel="Alternate stylesheet" href="css/Amalia_light.css" title="Light"/>

        <!-- SlidePanel -->

        <link rel="stylesheet" type="text/css" href="css/jquery.slidepanel.css">





		
		<!-- Bibliotecas -->
        <script src="joint/joint.js"></script>
		<script src="jQuery/jquery-1.10.2.js"></script>
        <script type="text/javascript" src="js/jquery.slidepanel.js"></script>
		<script src="joint/geometry.js"></script>

		<script src="joint/joint.shapes.uml.js"></script>
		<script src="Blob.js-master/Blob.js"></script>
		<script src="FileSaver.js-master/FileSaver.js"></script>
		
		<!-- Modelos -->
		<script src="modelos/Amalia.js"></script>
		
		<!-- Controlador -->
		<script src="controladores/ControladorAmalia.js"></script>
		

		<!-- ide -->
		<script src="ide/ideDiagramaClasses.js"></script>
		
		<!-- script de controlo dos menus dos botões-->
		<script type="text/javascript">

            var timeout         = 500;
            var closetimer		= 0;
            var ddmenuitem      = 0;

            // open hidden layer
            function mopen(id)
            {
                // cancel close timer
                mcancelclosetime();

                // close old layer
                if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';

                // get new layer and show it
                ddmenuitem = document.getElementById(id);
                ddmenuitem.style.visibility = 'visible';

            }
            // close showed layer
            function mclose()
            {
                if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';
            }

            // go close timer
            function mclosetime()
            {
                closetimer = window.setTimeout(mclose, timeout);
            }

            // cancel close timer
            function mcancelclosetime()
            {
                if(closetimer)
                {
                    window.clearTimeout(closetimer);
                    closetimer = null;
                }
            }

            // close layer when click-out
            document.onclick = mclose;
            // -->
            </script>


		<script>
			function download(filename, text) {
				console.log("Função Download");
   				var pom = document.createElement('a');
   				pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    			pom.setAttribute('download', filename);
    			pom.click();
			}
		</script>


		<title>Domain (classes) Model</title>
		<meta name="description" content="ide para diagramas de Classe">
		<meta name="author" content="jorge et al.">
				<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!--<meta name="viewport" content="width=device-width; initial-scale=1.0">-->

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<!--<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">-->
	</head>

	<body>
		<div>
			<header>
				<h1>Domain Model</h1>
				             <p id="p0h"><b>A</b>gile <b>M</b>odel-driven <b>A</b>pp<b>LI</b>c<b>A</b>tion Development Method and Tools</p>

			</header>
			<p></p>
			<div id="controloDiagramaClasses">
                <ul id="sddm">
                    <li><input id="btnVoltarInicio" type="button" value="<" />
                    </li>
                    <li><input id="btnClose" type="button" value="Close Project" />
                    </li>
                      <li>
                       <input id="btnSaveProject" type="button" value="Save Project"  onmouseover="mopen('m1')" onmouseout="mclosetime()"/>
                        <div id="m1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                            <input id="btnGravarProjeto" type="button" value=" Save in Browser" />
                            <input id="btnGuardarCasosUsoDisco" type="button" value="Save in File" />
                        </div>
                    </li>
                    <li>
                        <input id="btnthemes" type="button" value="Themes" onmouseover="mopen('m2')" onmouseout="mclosetime()"/>
                        <div id="m2" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                             <input id="btnChangeStyleLight" type="button" value="Light Theme" onclick="switch_style('Light');return false;"/>
                    <input id="btnChangeStyleDark" type="button" value="Dark Theme" onclick="switch_style('Dark');return false"/>
                        </div>
                    </li>
                    <li>
                        <input id="btnlanguage" type="button" value="Languages" onmouseover="mopen('m3')" onmouseout="mclosetime()"/>
                        <div id="m3" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                        <input id="lng_english" type="button" value ="English"/>
                        <input id="lng_portuguese" type="button" value="Português"/>
                        </div>
                    </li>
                    <li>
                        <input id="btnCallChat" type="button" class="button" href="http://localhost:8081/P3/chat/login-form.php" onclick="javascript:void window.open('http://localhost:8081/P3/chat/login-form.php','1422053451651','width=310,height=590,toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left=0,top=0');return false;" value="Chat"/>
                    </li>
                </ul>
			</div>



        <div class="floating-menu" id="floatingMenu">
				<h3>Toolbox</h3>
				<input id="addClassGraph" type="image" src="img/Class.jpg" alt="Insert Class" width="48" height="48">
                <input id="addInterfaceGraph" type="image" src="img/Interface.jpg" alt="Insert Interface" width="48" height="48">
                <input id="addAbstractGraph" type="image" src="img/Abstract.jpg" alt="Insert Abstract" width="48" height="48">
                <input id="makeZoomToFit" type="image" src="img/zoom_fit.png" alt="Zoom To Fit" width="48" height="48">
                <input id="clearDiagram" type="image" src="img/clearGraph.png" alt="Clear Graph" width="48" height="48">
			</div>
				

			     <div class="floating-tree" id="floatingTree">
                <h3>Project Elements</h3>
                <ol class="tree">
							<li class="arvore">
								<label for="folder1">Class</label> <input type="checkbox" id="folder1" />
								<ol id="classeslista">
								</ol>
							</li>
							<p></p>
							<li class="arvore">
								<label for="folder2">Abstract</label> <input type="checkbox" id="folder2" />
								<ol id ="abstractlista">
								</ol>
							</li>
                            <p></p>
				            <li class="arvore">
								<label for="folder3">Interface</label> <input type="checkbox" id="folder3" />
								<ol id ="interfacelista">
								</ol>
							</li>
							<p></p>
						</ol>

            </div>

			<!-- Placeholder para o modelo -->
			
			<div id="modelo">
        </div>
			<!-- Dialogos -->
			<!--dialogo para alterar os atributos da classe -->
			<div id="dialogoAlteraClasse">
     			<div>
					<p>
						<!--<label for="nomeDaClasse">Nome: </label>-->
						<fieldset class="dialogo">
							<legend>Class name</legend>
						<input id="nomeDaClasse" type="text" name="nomeDaClasse" placeholder="Nome da Classe" />
						<input id="btnLimparNome" type="button" value="x" />
						<input id="idClasse" type="hidden" value="" />
						</fieldset>
					</p>
					<fieldset id="atributosClasse">
						<legend>Attributes <input id="btnAddAtributo" type="button" value="+" /> </legend>
						
					</fieldset>
					<fieldset id="metodosClasse">
						<legend>Methods  <input id="btnAddMetodo" type="button" value="+" /></legend>
						
					</fieldset>
					<p>
						<input id="btnCancelarAlteraClasse" type="button" value="Cancel" />
						<input id="btnAceitarAlterarClasse" type="button" value="OK" />
						<input id="btnEleminarAlterarClasse" type="button" value="Delete"/>

					</p>
				</div>			
			</div>
			
			<!--dialogo para alterar a interface -->
			<div id="dialogoAlteraInterface">
     			<div>
					<p>
						<!--<label for="nomeDaInterface">Nome: </label>-->
						<fieldset class="dialogo">
							<legend>Interface name</legend>
						<input id="nomeDaInterface" type="text" name="nomeDaClasse" placeholder="Nome da Classe" />
						<input id="btnLimparNomeInt" type="button" value="x" />
						<input id="idInterface" type="hidden" value="" />
						</fieldset>
					</p>
					<fieldset id="metodosInterface">
						<legend>Methods  <input id="btnAddMetodoInt" type="button" value="+" /></legend>
						
					</fieldset>
					<p>
						<input id="btnCancelarAlteraInterface" type="button" value="Cancelar" />
						<input id="btnAceitarAlterarInterface" type="button" value="Alterar" />
						<input id="btnEleminarAlterarInterface" type="button" value="Eleminar"/>
					</p>
				</div>			
			</div>
			
			<!-- Dialogo para associações de classes -->
			<div id="dialogoAssociaClasses">
				<div>
					<p>
					<select id="cardCima">
						<!--<option value=""></option>-->
						<option value="1">1</option>
						<option value="0..1">0..1</option>
						<option value="*">*</option>
						<option value="1..*">1..*</option>
					</select>
					<select id="ligarClasses">
						<option value="h">Inheritance</option>
						<option value="c">Composition</option>
						<option value="a">Aggregation</option>
						<option value="s">Association</option>
					</select>
					<select id="cardBaixo">
						<!--<option value=""></option>-->
						<option value="1">1</option>
						<option value="0..1">0..1</option>
						<option value="*">*</option>
						<option value="1..*">1..*</option>
					</select>
					
					</p>

					<input id="elementoCimaId" type="hidden" name="elementoCimaId" value="" />
					<input id="elementoBaixoId" type="hidden" name="elementoBaixoId" value="" /> 
					<p>
						<input id="btnCancelaLigacaoClasses" type="button" value="Cancelar" />
						<input id="btnLigaClasses" type="button"  value="Associar Classes" />
					</p>
				</div>
			</div>
			<!-- Mostar xml muma caixa de texto -->
			<div id="dialogoMostarXMLClasses">
				<div>
					<p>
						<textarea id="xmlClasses"></textarea>
					</p>
					<input id="btnFecharXMLClasses" type="button" value="Fechar Dialogo" />
					<input id="btnDescarregarXML" type="button" value="Descarregar"/>
				</div>	
			</div>
			<!-- Dialogo para atribuir nome ao diagrama -->
			<div id="dialogoGravarDiagrama">
				<div>
					<p>Save Domain Model in Browser</p>
					<fieldset>
						<legend>Name:</legend>
						 <input id="nomeDoDiagrama" type="text" name="nomeDoDiagrama" placeholder="Nome do Diagrama" />
					</fieldset>
					<p>
						<input id="btnCancelaGravarDiagrama" type="button" value="Cancelar" />
						<input id="btnGravarDiagrama" type="button"  value="Gravar Diagrama" />
						<input id="tipoDeDiagrama" type="hidden" name="tipoDiagrama" value="" />
					</p>
				</div>
			</div>
			<!-- Dialogo para recuperar um diagrama -->
			<div id="dialogoAbreDiagrama">
				<div>
					<p>Open Domain Model From Browser</p>
					
					<fieldset>
						<legend>Select model to open:</legend>
						<select id="diagramasDisponíveis">
						<!-- Local onde vão ficar os diagramas disponíveis -->
					</select>
					</fieldset>
					<p>
						<input id="btnCancelaAbrirDiagrama" type="button" value="Cancelar" />
						<input id="btnAbrirDiagrama" type="button"  value="Abrir Diagrama" />
						<input id="tipoDeDiagramaAbrir" type="hidden" name="tipoDiagrama" value="" />
					</p>
					
				</div>
			</div>
			<!-- Dialogo para gravar ficheiro no disco -->
			<div id="dialogoGravaDiaClassesDisco">
				<div>
					<p>Save Domain Model in Disk</p>
					<fieldset>
						<legend>File name</legend>
						<input id="nomeDiaClassesDisco" type="text" name="nomeDiaParaDisco" placeholder="Nome para o Diagrama" />
					</fieldset>
					<input id="btnCancelarGravarDiscoDiaClasses" type="button" value="Cancelar"/>
					<input id="btnGravarDiscoDiaClasses" type="button" value="Gravar" />
				</div>
			</div>
			
			<!-- Dialogo para recuperar ficheiro do disco -->
			<div id="dialogoAbreDiagramaClassesDisco">
				<div>
					<p> Open Domain Model from Disk</p>
					<fieldset>
						<input type="file" id="ficheiroDiagramaClasses" />
					</fieldset>
					<input id="btnCancelaAbrirClassesDisco" type="button" value="Cancelar" />
				</div>
			</div>

			<footer>
				<p>
					AmaliaIDE v1.0 - 2015
				</p>
			</footer>
		</div>
	</body>
</html>
